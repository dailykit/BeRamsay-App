{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import React,{useEffect,useState}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Image from\"react-native-web/dist/exports/Image\";import TextInput from\"react-native-web/dist/exports/TextInput\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import Keyboard from\"react-native-web/dist/exports/Keyboard\";import{Layout}from\"@ui-kitten/components\";import Text from\"../../components/TextComponent\";import*as ImagePicker from\"expo-image-picker\";import{Feather,MaterialCommunityIcons}from\"@expo/vector-icons\";import BottomDrawer from\"rn-bottom-drawer\";import*as Permissions from\"expo-permissions\";import{Video}from\"expo-av\";import{height,width}from\"../../constants/Layout\";var AddPost=function AddPost(_ref){var navigation=_ref.navigation,restProps=_objectWithoutProperties(_ref,[\"navigation\"]);navigation.setOptions({title:\"Add Post\",headerStatusBarHeight:0,headerLeft:function headerLeft(){return React.createElement(TouchableOpacity,{style:{marginLeft:10},onPress:function onPress(){return navigation.goBack();}},React.createElement(Image,{style:{height:20},source:require(\"../../assets/back.png\")}));}});var _useState=useState(1),_useState2=_slicedToArray(_useState,2),isDownArrowVisible=_useState2[0],setIsDownArrowVisible=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),isUpArrowVisible=_useState4[0],setisUpArrowVisible=_useState4[1];var _useState5=useState(50),_useState6=_slicedToArray(_useState5,2),downArrowContainer=_useState6[0],setDownArrowContainer=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),imageURI=_useState8[0],setImageURI=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),videoURI=_useState10[0],setvideoURI=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),value=_useState12[0],_onChangeText=_useState12[1];useEffect(function(){},[]);var getPermissionAsync=function getPermissionAsync(){var _ref2,status;return _regeneratorRuntime.async(function getPermissionAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));case 2:_ref2=_context.sent;status=_ref2.status;if(!(status!==\"granted\")){_context.next=9;break;}alert(\"Sorry, we need camera roll permissions to make this work!\");return _context.abrupt(\"return\",false);case 9:return _context.abrupt(\"return\",true);case 10:case\"end\":return _context.stop();}}});};var _pickImage=function _pickImage(){var result;return _regeneratorRuntime.async(function _pickImage$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!getPermissionAsync()){_context2.next=5;break;}_context2.next=3;return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({mediaTypes:ImagePicker.MediaTypeOptions.Images,allowsEditing:true,quality:1}));case 3:result=_context2.sent;if(!result.cancelled){setImageURI(result.uri);}case 5:case\"end\":return _context2.stop();}}});};var _pickVideo=function _pickVideo(){var result;return _regeneratorRuntime.async(function _pickVideo$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!getPermissionAsync()){_context3.next=5;break;}_context3.next=3;return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({mediaTypes:ImagePicker.MediaTypeOptions.Videos,allowsEditing:true,quality:1}));case 3:result=_context3.sent;if(!result.cancelled){setvideoURI(result.uri);}case 5:case\"end\":return _context3.stop();}}});};return React.createElement(TouchableWithoutFeedback,{onPress:Keyboard.dismiss,accessible:false},React.createElement(Layout,{style:styles.container},React.createElement(TextInput,{multiline:true,onChangeText:function onChangeText(text){return _onChangeText(text);},value:value,style:styles.textInput,placeholder:\"Speak your hearts out!\",placeholderTextColor:\"#000\"}),React.createElement(BottomDrawer,{onCollapsed:function onCollapsed(){setIsDownArrowVisible(0);setisUpArrowVisible(1);setDownArrowContainer(50);},onExpanded:function onExpanded(){setIsDownArrowVisible(1);setisUpArrowVisible(0);setDownArrowContainer(50);},containerHeight:550,offset:100,startUp:true},React.createElement(Layout,{style:styles.contentContainer},(imageURI||videoURI)&&React.createElement(Layout,{style:[styles.row,styles.imageRow]},imageURI&&React.createElement(Image,{style:styles.image,source:{uri:imageURI}}),videoURI&&React.createElement(Video,{source:{uri:videoURI},rate:1.0,volume:1.0,isMuted:true,resizeMode:\"cover\",style:styles.image,useNativeControls:true})),React.createElement(Layout,{style:[styles.row,styles.down,{height:downArrowContainer}]},React.createElement(Feather,{style:[styles.icons,{opacity:isDownArrowVisible,display:isDownArrowVisible==0?\"none\":\"flex\"}],size:20,name:\"arrow-down\"}),React.createElement(Feather,{style:[styles.icons,{opacity:isUpArrowVisible,display:isUpArrowVisible==0?\"none\":\"flex\"}],size:20,name:\"arrow-up\"})),React.createElement(Layout,{style:styles.row},React.createElement(TouchableOpacity,{onPress:function onPress(){return _pickImage();},style:[styles.button,styles.uploadButton]},React.createElement(Feather,{style:styles.icons,size:20,name:\"camera\"}),React.createElement(Text,{style:styles.text},\"Add a Photo\")),React.createElement(TouchableOpacity,{onPress:function onPress(){return _pickVideo();},style:[styles.button,styles.uploadButton]},React.createElement(Feather,{style:styles.icons,size:20,name:\"play-circle\"}),React.createElement(Text,{style:styles.text},\"Add a Video\"))),React.createElement(Layout,{style:styles.row},React.createElement(TouchableOpacity,{style:styles.button},React.createElement(Feather,{style:styles.icons,size:20,name:\"plus\"}),React.createElement(Text,{style:styles.text},\"Add to Existing Post\"))),React.createElement(Layout,{style:styles.row},React.createElement(TouchableOpacity,{style:styles.button},React.createElement(Feather,{style:styles.icons,size:20,name:\"tag\"}),React.createElement(Text,{style:styles.text},\"Tag a Recipe\"))),React.createElement(Layout,{style:styles.row},React.createElement(TouchableOpacity,{style:styles.button},React.createElement(Feather,{style:styles.icons,size:20,name:\"tag\"}),React.createElement(Text,{style:styles.text},\"Tag a Restaurant\"))),React.createElement(Layout,{style:styles.row},React.createElement(TouchableOpacity,{style:styles.button},React.createElement(Feather,{style:styles.icons,size:20,name:\"video\"}),React.createElement(Text,{style:styles.text},\"Start a Live Video\"))),React.createElement(Layout,{style:styles.row},React.createElement(TouchableOpacity,{style:styles.button},React.createElement(MaterialCommunityIcons,{style:styles.icons,size:20,name:\"poll\"}),React.createElement(Text,{style:styles.text},\"Start a Poll\"))),React.createElement(Layout,{style:styles.row},React.createElement(TouchableOpacity,{style:styles.button},React.createElement(MaterialCommunityIcons,{style:styles.icons,size:20,name:\"food\"}),React.createElement(Text,{style:styles.text},\"Invite to Dine\")))))));};export default AddPost;var styles=StyleSheet.create({container:{flex:1,backgroundColor:\"#f9f9f9\"},contentContainer:{flex:1},row:{height:50,flexDirection:\"row\"},button:{flexDirection:\"row\",alignItems:\"center\",paddingHorizontal:20,flex:1},uploadButton:{flex:1,flexDirection:\"row\"},text:{opacity:0.6},icons:{opacity:0.6},down:{flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",backgroundColor:\"transparent\",height:50},textInput:{padding:20},image:{height:\"auto\",width:80,marginRight:20,borderRadius:5},imageRow:{padding:10,height:100,backgroundColor:\"#f9f9f9\"}});","map":{"version":3,"sources":["D:/New Projects/BeRamsayApp/screens/HomeScreen/AddPost.js"],"names":["React","useEffect","useState","Layout","Text","ImagePicker","Feather","MaterialCommunityIcons","BottomDrawer","Permissions","Video","height","width","AddPost","navigation","restProps","setOptions","title","headerStatusBarHeight","headerLeft","marginLeft","goBack","require","isDownArrowVisible","setIsDownArrowVisible","isUpArrowVisible","setisUpArrowVisible","downArrowContainer","setDownArrowContainer","imageURI","setImageURI","videoURI","setvideoURI","value","onChangeText","getPermissionAsync","askAsync","CAMERA_ROLL","status","alert","_pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","quality","result","cancelled","uri","_pickVideo","Videos","Keyboard","dismiss","styles","container","text","textInput","contentContainer","row","imageRow","image","down","icons","opacity","display","button","uploadButton","StyleSheet","create","flex","backgroundColor","flexDirection","alignItems","paddingHorizontal","justifyContent","padding","marginRight","borderRadius"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  TouchableOpacity,\r\n  Image,\r\n  TextInput,\r\n  TouchableWithoutFeedback,\r\n  Keyboard\r\n} from \"react-native\";\r\nimport { Layout } from \"@ui-kitten/components\";\r\nimport Text from \"../../components/TextComponent\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport { Feather, MaterialCommunityIcons } from \"@expo/vector-icons\";\r\nimport BottomDrawer from \"rn-bottom-drawer\";\r\nimport * as Permissions from \"expo-permissions\";\r\nimport { Video } from \"expo-av\";\r\n\r\nimport { height, width } from \"../../constants/Layout\";\r\n\r\nconst AddPost = ({ navigation, ...restProps }) => {\r\n  navigation.setOptions({\r\n    title: \"Add Post\",\r\n    headerStatusBarHeight: 0,\r\n    headerLeft: () => (\r\n      <TouchableOpacity\r\n        style={{ marginLeft: 10 }}\r\n        onPress={() => navigation.goBack()}\r\n      >\r\n        <Image\r\n          style={{ height: 20 }}\r\n          source={require(\"../../assets/back.png\")}\r\n        />\r\n      </TouchableOpacity>\r\n    )\r\n  });\r\n\r\n  const [isDownArrowVisible, setIsDownArrowVisible] = useState(1);\r\n  const [isUpArrowVisible, setisUpArrowVisible] = useState(0);\r\n  const [downArrowContainer, setDownArrowContainer] = useState(50);\r\n  const [imageURI, setImageURI] = useState(null);\r\n  const [videoURI, setvideoURI] = useState(null);\r\n  const [value, onChangeText] = useState(\"\");\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  const getPermissionAsync = async () => {\r\n    const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n    if (status !== \"granted\") {\r\n      alert(\"Sorry, we need camera roll permissions to make this work!\");\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const _pickImage = async () => {\r\n    if (getPermissionAsync()) {\r\n      let result = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        allowsEditing: true,\r\n        quality: 1\r\n      });\r\n\r\n      if (!result.cancelled) {\r\n        setImageURI(result.uri);\r\n      }\r\n    }\r\n  };\r\n\r\n  const _pickVideo = async () => {\r\n    if (getPermissionAsync()) {\r\n      let result = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Videos,\r\n        allowsEditing: true,\r\n        quality: 1\r\n      });\r\n\r\n      if (!result.cancelled) {\r\n        setvideoURI(result.uri);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <TouchableWithoutFeedback onPress={Keyboard.dismiss} accessible={false}>\r\n      <Layout style={styles.container}>\r\n        <TextInput\r\n          multiline\r\n          onChangeText={text => onChangeText(text)}\r\n          value={value}\r\n          style={styles.textInput}\r\n          placeholder={\"Speak your hearts out!\"}\r\n          placeholderTextColor=\"#000\"\r\n        />\r\n        <BottomDrawer\r\n          onCollapsed={() => {\r\n            setIsDownArrowVisible(0);\r\n            setisUpArrowVisible(1);\r\n            setDownArrowContainer(50);\r\n          }}\r\n          onExpanded={() => {\r\n            setIsDownArrowVisible(1);\r\n            setisUpArrowVisible(0);\r\n            setDownArrowContainer(50);\r\n          }}\r\n          containerHeight={550}\r\n          offset={100}\r\n          startUp={true}\r\n        >\r\n          <Layout style={styles.contentContainer}>\r\n            {(imageURI || videoURI) && (\r\n              <Layout style={[styles.row, styles.imageRow]}>\r\n                {imageURI && (\r\n                  <Image style={styles.image} source={{ uri: imageURI }} />\r\n                )}\r\n                {videoURI && (\r\n                  <Video\r\n                    source={{ uri: videoURI }}\r\n                    rate={1.0}\r\n                    volume={1.0}\r\n                    isMuted={true}\r\n                    resizeMode=\"cover\"\r\n                    style={styles.image}\r\n                    useNativeControls\r\n                  />\r\n                )}\r\n              </Layout>\r\n            )}\r\n            <Layout\r\n              style={[\r\n                styles.row,\r\n                styles.down,\r\n                {\r\n                  height: downArrowContainer\r\n                }\r\n              ]}\r\n            >\r\n              <Feather\r\n                style={[\r\n                  styles.icons,\r\n                  {\r\n                    opacity: isDownArrowVisible,\r\n                    display: isDownArrowVisible == 0 ? \"none\" : \"flex\"\r\n                  }\r\n                ]}\r\n                size={20}\r\n                name=\"arrow-down\"\r\n              />\r\n              <Feather\r\n                style={[\r\n                  styles.icons,\r\n                  {\r\n                    opacity: isUpArrowVisible,\r\n                    display: isUpArrowVisible == 0 ? \"none\" : \"flex\"\r\n                  }\r\n                ]}\r\n                size={20}\r\n                name=\"arrow-up\"\r\n              />\r\n            </Layout>\r\n            <Layout style={styles.row}>\r\n              <TouchableOpacity\r\n                onPress={() => _pickImage()}\r\n                style={[styles.button, styles.uploadButton]}\r\n              >\r\n                <Feather style={styles.icons} size={20} name=\"camera\" />\r\n                <Text style={styles.text}>Add a Photo</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                onPress={() => _pickVideo()}\r\n                style={[styles.button, styles.uploadButton]}\r\n              >\r\n                <Feather style={styles.icons} size={20} name=\"play-circle\" />\r\n                <Text style={styles.text}>Add a Video</Text>\r\n              </TouchableOpacity>\r\n            </Layout>\r\n            <Layout style={styles.row}>\r\n              <TouchableOpacity style={styles.button}>\r\n                <Feather style={styles.icons} size={20} name=\"plus\" />\r\n                <Text style={styles.text}>Add to Existing Post</Text>\r\n              </TouchableOpacity>\r\n            </Layout>\r\n            <Layout style={styles.row}>\r\n              <TouchableOpacity style={styles.button}>\r\n                <Feather style={styles.icons} size={20} name=\"tag\" />\r\n                <Text style={styles.text}>Tag a Recipe</Text>\r\n              </TouchableOpacity>\r\n            </Layout>\r\n            <Layout style={styles.row}>\r\n              <TouchableOpacity style={styles.button}>\r\n                <Feather style={styles.icons} size={20} name=\"tag\" />\r\n                <Text style={styles.text}>Tag a Restaurant</Text>\r\n              </TouchableOpacity>\r\n            </Layout>\r\n            <Layout style={styles.row}>\r\n              <TouchableOpacity style={styles.button}>\r\n                <Feather style={styles.icons} size={20} name=\"video\" />\r\n                <Text style={styles.text}>Start a Live Video</Text>\r\n              </TouchableOpacity>\r\n            </Layout>\r\n            <Layout style={styles.row}>\r\n              <TouchableOpacity style={styles.button}>\r\n                <MaterialCommunityIcons\r\n                  style={styles.icons}\r\n                  size={20}\r\n                  name=\"poll\"\r\n                />\r\n                <Text style={styles.text}>Start a Poll</Text>\r\n              </TouchableOpacity>\r\n            </Layout>\r\n            <Layout style={styles.row}>\r\n              <TouchableOpacity style={styles.button}>\r\n                <MaterialCommunityIcons\r\n                  style={styles.icons}\r\n                  size={20}\r\n                  name=\"food\"\r\n                />\r\n                <Text style={styles.text}>Invite to Dine</Text>\r\n              </TouchableOpacity>\r\n            </Layout>\r\n          </Layout>\r\n        </BottomDrawer>\r\n      </Layout>\r\n    </TouchableWithoutFeedback>\r\n  );\r\n};\r\n\r\nexport default AddPost;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { flex: 1, backgroundColor: \"#f9f9f9\" },\r\n  contentContainer: {\r\n    flex: 1\r\n  },\r\n  row: {\r\n    height: 50,\r\n    flexDirection: \"row\"\r\n  },\r\n  button: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    paddingHorizontal: 20,\r\n    flex: 1\r\n  },\r\n  uploadButton: {\r\n    flex: 1,\r\n    flexDirection: \"row\"\r\n  },\r\n  text: {\r\n    opacity: 0.6\r\n  },\r\n  icons: {\r\n    opacity: 0.6\r\n  },\r\n  down: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"transparent\",\r\n    height: 50\r\n  },\r\n  textInput: {\r\n    padding: 20\r\n  },\r\n  image: {\r\n    height: \"auto\",\r\n    width: 80,\r\n    marginRight: 20,\r\n    borderRadius: 5\r\n  },\r\n  imageRow: {\r\n    padding: 10,\r\n    height: 100,\r\n    backgroundColor: \"#f9f9f9\"\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}